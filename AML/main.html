<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<link rel= "stylesheet" type="text/css" href="main.css">
		<title>Visit Counter</title>
		<script type="text/javascript" src="./web3/dist/web3.min.js"></script>
		<script type="text/javascript" src="./jquery/dist/jquery.min.js"></script>
		<script type="text/javascript">
			var Web3 = require('web3');
			var web3 = new Web3();
			web3.setProvider(new web3.providers.HttpProvider("http://localhost:8545"));
			//web3.setProvider(new Web3.providers.HttpProvider('https://ropsten.infura.io'));
			function accountForEach(element, index, array) {
				$("#accountList").append(element + "<br>");
			}
			$(document).ready(function() {
				// web3.setProvider(new web3.providers.HttpProvider());
				
				web3.eth.defaultAccount = web3.eth.accounts[0];
				web3.eth.accounts.forEach(accountForEach);
				console.log(web3);
				$("#balance").text(web3.eth.getBalance(web3.eth.coinbase).toNumber());
			});
			function createAccount(){
				var newAccount = web3.personal.newAccount("1");
				console.log(newAccount);
			}
		</script>
	</head>
	<body>
		<div class="container">
			<h1>Coinbase Account Balance</h1>
			<p id="balance"></p>

			<h1>Coinbase Balance Watch</h1>
			<button type="button" onClick="watchBalance();">watch balance</button>
		<div></div>
		<div id="coinbase"></div>
		<div id="original"></div>
		<div id="current"></div>
		<div id="diff"></div>

		<h1>Visit</h1>
		<input type="text" id="name"/>
		<button type="button" onClick="createAccount();">createAccount</button>


		<h1>LOOK AT THIS</h1>
		<p id="balanceAmount"></p>

		<h1>Account List</h1>
		<p id="accountList"></p>
		
		<form id="contact" action="" method="post">
			<h3>Used Ethereum local server</h3>
			<h4>web3.providers.HttpProvider("http://localhost:8545")</h4>
			<fieldset>
				<input placeholder="Your Blockchain Address" type="address" tabindex="1" required autofocus>
			</fieldset>
			<fieldset>
				<input placeholder="Your Blockchain Password" type="passwd" tabindex="2" required>
			</fieldset>
			<fieldset>
				<input placeholder="Price of the product that you are going to send" type="price" tabindex="3" required>
			</fieldset>
			<fieldset>
				<input placeholder="Address of your buyer's wallet" type="buyer" tabindex="4" required>
			</fieldset>
			<fieldset>
				<textarea placeholder="Description" tabindex="2" required></textarea>
			</fieldset>
			<fieldset>
				<button name="submit" type="submit" id="contact-submit" data-submit="...Sending">Submit</button>
			</fieldset>
		</form>
		</div>
	</body>
</html>
